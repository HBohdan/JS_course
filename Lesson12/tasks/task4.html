<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>

  <body>
    <h3>Завдання 4</h3>
    <p>
      Для розглянутих методів сортування спробувати вивести етапи сортування шляхом виведення відповідних таблиць за зразком.
    </p>

    <script>
		const arrRandom = new Array(5).fill(0).map(el => getRandomNumb(1, 50))
		const arrRandom2 = [...arrRandom]
		const arrRandom3 = [...arrRandom]
		console.log(arrRandom)

		let resultBubbleSort = bubbleSort(arrRandom)
		let resultShakerSort = shakerSort(arrRandom2)
		let resultInsertSort = insertSort(arrRandom3)

		document.write(`
			Сортування бульбашкою. <br>
			<br> ${resultBubbleSort}<br>
			Сортування змішуванням. <br>
		 	<br> ${resultShakerSort}<br>
		 	Сортування включеннями. <br>
			<br> ${resultInsertSort}<br>	
		`)

		function bubbleSort(arr) {
			let printResult = ''
			let lengthArray = arr.length
			let changed
			do {
				changed = false
				
				for (let i = 1; i < lengthArray; i++) {
					if (arr[i - 1] > arr[i]) {
						[arr[i - 1], arr[i]] = [arr[i], arr[i - 1]]
						printResult += `[${arr}]<br>`
						changed = true
					}
				}
				lengthArray--
			} while (changed)

			return printResult
		}

		function shakerSort(array) {
			let leftIndex = 0
			let rightIndex = array.length - 1
			let printResult = ''

			while (leftIndex < rightIndex) {
				for (let idx = leftIndex; idx < rightIndex; idx++) {
						if ( array[idx] > array[idx + 1]) {
							[array[idx], array[idx + 1]] = [array[idx + 1], array[idx]]
							printResult += `[${array}]<br>`
						}
				}
				rightIndex--;

				for (let idx = rightIndex; idx > leftIndex; idx--) {
						if ( array[idx] < array[idx - 1]) {
							[array[idx], array[idx - 1]] = [array[idx - 1], array[idx]]
							printResult += `[${array}]<br>`
						}
				}
				leftIndex++;				
			}
			return printResult
		}

		function insertSort(arr) {
			let printResult = ''

			for (let k = 1; k < arr.length; k++) {
				const currentElement = arr[k]
				let i = k - 1
				while (i >= 0 && arr[i] > currentElement) {
					[arr[i], arr[i + 1]] = [arr[i + 1], arr[i]]
					i = i - 1

					printResult += `[${arr}]<br>`
				}
			}
			
			return printResult
		}

		function getRandomNumb(minV, maxV) {
			return Math.floor(Math.random() * (maxV - minV + 1)) + minV
		}
    </script>
  </body>
</html>
